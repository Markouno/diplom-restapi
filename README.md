# REST API –°–µ—Ä–≤–∏—Å –∑–∞–∫—É–ø–æ–∫
–ü—Ä–æ–µ–∫—Ç –±–∞–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ **Django**.

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —è–≤–ª—è–µ—Ç—Å—è **–î–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π**.

–ò–¥–µ—è –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞.

![vkinder-logo](img/banner.png)
___

**Developers:**

–ñ—É—Ä–∞–≤–ª–µ–≤ –ê–Ω–¥—Ä–µ–π / Andrew Markos


## üßê –ß—Ç–æ —ç—Ç–æ?

**REST API** - Representational State Transfer **(REST)** ‚Äî —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã **API**.

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä. API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—é REST, –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è REST API. –í–µ–±-—Å–ª—É–∂–±—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É REST, –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –≤–µ–±-—Å–ª—É–∂–±–∞–º–∏ RESTful. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ç–µ—Ä–º–∏–Ω RESTful API –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–µ—Ç–µ–≤—ã–º RESTful API.

–î–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É **Django** –¥–ª—è **REST API** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üîé –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é **REST API**  [–∑–¥–µ—Å—å](/rest_api_doc.md)


## üõ†Ô∏è –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

1. –î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `requirements.txt`, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª:

    ```
    pip install requirements.txt
    ```
2. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **Docker daemon**.
–î–∞–ª–µ–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª **.env**, –≤ –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

    ```
    POSTGRES_USER=ordersadmin
    POSTGRES_PASSWORD=yourpassword
    POSTGRES_DB=orders
    POSTGRES_HOST=localhost
    POSTGRES_PORT=5431
    ```
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **Docker** –∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Ö –≤ **Django**.

–ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–æ–¥ **Docker** –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª:

```
    docker-compose up
```

–ó–∞–ø—É—Å–∫ Redis –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **Celery** –∏–∑ –ø–æ–¥ **Docker**:

```
    docker run -d -p 6379:6379 redis
```

–ó–∞–ø—É—Å–∫ **Celery**:

```
    celery -A orders worker -l info
```


3. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã **Django**:

–í —Ñ–∞–π–ª–µ `orders/orders/settings.py` –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'orders',
        'HOST': 'localhost',
        'PORT': '5431',
        'USER': 'ordersadmin',
        'PASSWORD': 'netologypassword'
    }
}
```

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø–æ—á—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —É–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è **SMTP**:

```
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'


EMAIL_HOST = 'your.host.com'
EMAIL_HOST_USER = 'your@mail.com'
EMAIL_HOST_PASSWORD = 'token/password'
EMAIL_PORT = '465'
EMAIL_USE_SSL = True
EMAIL_USE_TLS = False
DEFAULT_FROM_EMAIL = 'default@mail.com'
```
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å **Django** –ø—Ä–æ–µ–∫—Ç:
```
python manage.py runserver
```

5. –ï—Å–ª–∏ –í—ã —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –∫–∞–∫ –º–∏–Ω–∏–º—É–º `–¥–≤—É—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤`, —Ç–æ –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `loaddata` –≤ `Django`. –ù–∞–π—Ç–∏ –∏—Ö –º–æ–∂–Ω–æ –≤ `orders/mtv/fixtures`. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª:
```
python manage.py loaddata <–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞.json>
```
–ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è `REST API` –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ.

