## REST API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üê≠ –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ **http** –∑–∞–ø—Ä–æ—Å–æ–≤:
* –ü–æ–∫—É–ø–∞—Ç–µ–ª—å
* –ü—Ä–æ–¥–∞–≤–µ—Ü/–ø–æ—Å—Ç–∞–≤—â–∏–∫

–í —ç—Ç–æ–º –ø–æ–º–æ–∂–µ—Ç —Ñ–∞–π–ª `requests_api.http`. –ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å `rest-client.`

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è **–ø–æ–∫—É–ø–∞—Ç–µ–ª—è** –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```
POST http://127.0.0.1:8000/user/register
Content-Type: application/json

{
    "first_name": "Paul",
    "last_name" : "Wesson",
    "email": "wesson@box.com",
    "password": "password"
    
}
```

–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ **–ø—Ä–æ–¥–∞–≤—Ü–∞/–ø–æ—Å—Ç–∞–≤—â–∏–∫–∞** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å **–∫–ª—é—á/–∑–Ω–∞—á–µ–Ω–∏–µ** –≤ –≤–∏–¥–µ `"type": "shop"`

**–í–ê–ñ–ù–û!!!**

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫**, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–µ–≥–æ –ø—Ä–∏–¥—ë—Ç **—Ç–æ–∫–µ–Ω** –¥–ª—è **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞.

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞

–¢–æ–∫–µ–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–º **http** –∑–∞–ø—Ä–æ—Å–æ–º:

```
POST http://127.0.0.1:8000/user/confirm
Content-Type: application/json

{
    "email": "wesson@box.com",
    "token": "886c39faf1253eb1b20576e2684828d889686"
    
}
```

### –õ–æ–≥–∏–Ω

–î–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É –µ—Å—Ç—å **http** –∑–∞–ø—Ä–æ—Å:

```
POST http://127.0.0.1:8000/user/login
Content-Type: application/json

{
    "email": "wesson@box.com",
    "password": "password"
    
}
```

–í **–æ—Ç–≤–µ—Ç** –Ω–∞ –¥–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –í—ã –ø–æ–ª—É—á–∏—Ç–µ `—Ç–æ–∫–µ–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏`, –∫–æ—Ç–æ—Ä—ã–π –≤ –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É.

### –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
POST http://127.0.0.1:8000/user/contact
Content-Type: application/json
Authorization: token 38de7958cdd5fd9469c121499768eb98788b57e0

{
    "city": "Moscow",
    "street": "Beloborodova St., 4",
    "phone": "893723123123" 
}
```
–í `header` –∑–∞–ø—Ä–æ—Å–∞ —Ç–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `Authorization: token`

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å `GET` –∑–∞–ø—Ä–æ—Å:

```
GET http://127.0.0.1:8000/user/contact
Content-Type: application/json
Authorization: token 38de7958cdd5fd9469c121499768eb98788b57e0
```
----
### –ú–∞–≥–∞–∑–∏–Ω—ã
–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤:

```
GET http://127.0.0.1:8000/shops
Content-Type: application/json
```

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
```
GET http://127.0.0.1:8000/categories
Content-Type: application/json
```

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –º–∞–≥–∞–∑–∏–Ω–µ, –ª–∏–±–æ –≤ —Ü–µ–ª–æ–º:

```
GET http://127.0.0.1:8000/products?shop_id=1
Content-Type: application/json
```
----
### –ö–æ—Ä–∑–∏–Ω–∞

–ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ **–∫–æ—Ä–∑–∏–Ω—ã** –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –µ—ë —Ç–æ–≤–∞—Ä–∞–º–∏. `product_info` - ID —Ç–æ–≤–∞—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –≤—ã—à–µ. `quantity` - –∫–æ–ª-–≤–æ –ø–æ–∑–∏—Ü–∏–π.
```
POST http://127.0.0.1:8000/basket
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0

{
    "items":
        {
            "product_info": 6,
            "quantity": 1,
        }
}
```
**–£–¥–∞–ª–µ–Ω–∏–µ** –ø–æ–∑–∏—Ü–∏–π –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã:
```
DELETE http://127.0.0.1:8000/basket
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0

{
    "items":
        {
            "id": 1
        }
}
```
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ** –∫–æ–ª-–≤–æ –ø–æ–∑–∏—Ü–∏–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
```
PUT http://127.0.0.1:8000/basket
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0

{
    "items":
        {
            "id": 5,
            "quantity": 1
        }
}
```
**–ü—Ä–æ—Å–º–æ—Ç—Ä** –∫–æ—Ä–∑–∏–Ω—ã:
```
GET http://127.0.0.1:8000/basket
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0
```

### –ó–∞–∫–∞–∑—ã

–î–ª—è **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –Ω–æ–º–µ—Ä–æ–º –∑–∞–∫–∞–∑–∞ –∏ `id` –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞:
```
POST http://127.0.0.1:8000/order
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0

{
    "id": 1,
    "contact": 1
}
```
–ù–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ `id` –∫–æ–Ω—Ç–∞–∫—Ç–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö `contact`

–î–∞–ª–µ–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ **–ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å**, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –í–∞—à **–∑–∞–∫–∞–∑**:
```
GET http://127.0.0.1:8000/order
Content-Type: application/json
Authorization: token 94e1880d42d8588f3745bf3e5fd374212aa8acb0
```

## üê∏ –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤/–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### –°—Ç–∞—Ç—É—Å—ã –º–∞–≥–∞–∑–∏–Ω–∞

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–∞–∫–æ–º —Å—Ç–∞—Ç—É—Å–µ **–í–∞—à –º–∞–≥–∞–∑–∏–Ω**. –†–∞–±–æ—Ç–∞–µ—Ç –æ–Ω –∏–ª–∏ –Ω–µ—Ç:

```
GET http://127.0.0.1:8000/partner/state
Content-Type: application/json
Authorization: token 04c5752b60b903bb2dc95ecf2ecf43c113489f0b
```

–¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã. `true` - –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–∫–∞–∑—ã, `false` -  –Ω–µ –≥–æ—Ç–æ–≤:
```
POST http://127.0.0.1:8000/partner/state
Content-Type: application/json
Authorization: token 04c5752b60b903bb2dc95ecf2ecf43c113489f0b

{
    "state": true
}
```
### –ó–∞–∫–∞–∑—ã –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞

–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ—à–ª–∏ –∏–∑ —Å—Ç–∞—Ç—É—Å–∞ `new` –≤ `in work`:
```
GET http://127.0.0.1:8000/partner/orders
Content-Type: application/json
Authorization: token 38de7958cdd5fd9469c121499768eb98788b57e0
```
### –¢–æ–≤–∞—Ä—ã

–í—ã, –∫–∞–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫, –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã –≤ —Å–≤–æ–π –º–∞–≥–∞–∑–∏–Ω. –î–ª—è —ç—Ç–æ–≥–æ —É–∫–∞–∂–∏—Ç–µ `id –º–∞–≥–∞–∑–∏–Ω–∞`, `id –ø—Ä–æ–¥—É–∫—Ç–∞`, `–Ω–∞–∑–≤–∞–Ω–∏–µ`, `–∫–æ–ª-–≤–æ` –∏ `—Ü–µ–Ω—É`:

```
POST http://127.0.0.1:8000/partner/update
Content-Type: application/json
Authorization: token 38de7958cdd5fd9469c121499768eb98788b57e0

{
    "items":
        {
            "shop_id": 1,
            "product_id": 4,
            "name": "MAC",
            "quantity": 4,
            "price": 1290

        }
}
```
